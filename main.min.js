window.onload=()=>{loadNumbersData()};let listNumbers={};async function loadNumbersData(){const a=["./out/2020_numbers.json","./out/2019_numbers.json","./out/2018_numbers.json","./out/2017_numbers.json","./out/2016_numbers.json","./out/2015_numbers.json","./out/2014_numbers.json","./out/2013_numbers.json","./out/2012_numbers.json","./out/2011_numbers.json"];for(let b=0;b<a.length;++b){const c=await fetchJson(a[b]),d=c.year,e=c.numbers;e.forEach(a=>{const b=a.n,c=a.p;listNumbers[d]===void 0&&(listNumbers[d]={}),listNumbers[d][b.toString()]={year:d,prize:c}})}}async function fetchJson(a){return await fetch(a).then(a=>a.json()).catch(b=>{console.error(`There was an error fetching the data ${a}: ${b}`)})}async function tellJoke(){const a=await fetch(url),b=await a.json();return b.value.joke}const toggleErrorMessage=a=>{let b=document.getElementById("errorMessage");b.classList.add(a?"show":"hide"),b.classList.remove(a?"hide":"show")},isNum=a=>!isNaN(a),search=()=>{let a=document.getElementById("numberToSearch").value;if(""===a||!isNum(a))return void toggleErrorMessage(!0);toggleErrorMessage(!1),a=a.toString().padStart(5,"0"),document.getElementById("numberToSearch").value=a;const b=document.getElementById("results");b.innerHTML="",b.classList.remove("hide"),b.classList.add("fade-in");let c=[];if([2020,2019,2018,2017,2016,2015].forEach(b=>{listNumbers[b][a]&&c.push(listNumbers[b][a])}),0<c.length){let a=document.createElement("ul");c.forEach(b=>{const c=b.year;let d=b.prize;const e=d.includes("EUROS");e&&(d=d.trim().replaceAll("DE","").replaceAll("EUROS","").replaceAll(".",""),d=parseInt(d)),d=(parseInt(d)/10).toLocaleString(),d+="  \u20AC";let f=document.createElement("li");f.innerText=`${c} : ${d}`,e?f.classList.add("bigPrize"):f.classList.add("normalPrize"),a.appendChild(f)});const d=document.createElement("span");d.textContent=`👍 ¡Yay! Este número fue premiado  ${1<c.length?"los a\xF1os":"el a\xF1o"}: 🍾`,b.appendChild(d),b.appendChild(a)}else{const a=document.createElement("span");a.innerHTML="\uD83D\uDC4E Este n\xFAmero NUNCA ha sido premiado \uD83E\uDD37\u200D\u2642\uFE0F",b.appendChild(a)}};window.addEventListener("keyup",function(a){13===a.keyCode&&(a.preventDefault(),document.getElementById("btnSearch").click())});